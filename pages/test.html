<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Educraft | A place every student should be.</title>
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon/favicon.ico">

    <!-- TAILWIND CSS  -->
    <link href="../dist/output.css" rel="stylesheet">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->

    <!-- STYLE & CUSTOM CSS  -->
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link href="../assets/pluggins/locomotive/locomotive-scroll.css" rel="stylesheet">
    <!-- REMIX ICON  -->
    <link rel="stylesheet" href="../assets/pluggins/remixicon/remixicon.css">
</head>

<body>
    <div class="content" data-scroll-container>
        <section class="h-screen bg-purple-300" data-scroll-section>

        </section>
        <section class="h-screen overflow-hidden bg-green-300" data-scroll-section>

            <style>
                :root {

                    --section-padding: clamp(5em, 21vh, 12em);
                    --container-padding: clamp(2.5em, 8vw, 8em);
                    --gap-padding: clamp(1.5em, 4vw, 2.5em);

                }

                /* ------------------------- Home - Horizontal Items -------------------------------------------------- */
                .container {
                    --section-padding: clamp(5em, 21vh, 12em);
                    --container-padding: clamp(2.5em, 8vw, 8em);
                    --gap-padding: clamp(1.5em, 4vw, 2.5em);
                    margin: 0 auto;
                    padding-left: var(--container-padding);
                    padding-right: var(--container-padding);
                    max-width: 100em;
                }

                .overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    height: 100%;
                    width: 100%;
                }

                .horizontal-items {
                    overflow: hidden;
                    padding-top: calc(var(--section-padding) * .75);
                    padding-bottom: calc(var(--section-padding) - 2.5vw);
                }

                .horizontal-items .container {
                    padding: 0;
                    transform: rotate(0deg);
                }

                .horizontal-items .row {
                    width: 120vw;
                    left: -10vw;
                    will-change: transform;
                }

                .horizontal-items .flex-col {
                    width: 20%;
                    padding: calc(var(--gap-padding) / 2);
                    padding: 1.25vw;
                    will-change: transform;
                }

                .horizontal-items .horizontal-single-item {
                    position: relative;

                    /* added css  */
                    border-radius: 14px;
                    overflow: hidden;
                    height: 165px;
                }

                .horizontal-items .horizontal-single-item::before {
                    display: block;
                    content: "";
                    padding-top: 75%;
                }

                @media screen and (max-width: 1000px) {
                    .horizontal-items .flex-col {
                        width: 33.333%;
                    }

                    .horizontal-items .flex-col:nth-child(4) {
                        display: none;
                    }

                }

                @media screen and (max-width: 540px) {
                    .horizontal-items {
                        padding-top: calc(var(--section-padding) * 1);
                    }

                    .horizontal-items .flex-col {
                        width: 50%;
                        padding: 2.5vw;
                    }

                    .horizontal-items .flex-col:nth-child(4) {
                        display: block;
                    }

                    .horizontal-items .row {
                        width: 120vw;
                    }

                    .horizontal-items .row.row-1,
                    .horizontal-items .row.row-2 {
                        transform: translate(0, 0) !important;
                    }

                    .horizontal-items .row-1 .flex-col:nth-child(3),
                    .horizontal-items .row-1 .flex-col:nth-child(4) {
                        transform: translate(-20vw, 0);
                    }

                    .horizontal-items .row-2 .flex-col:nth-child(3),
                    .horizontal-items .row-2 .flex-col:nth-child(4) {
                        display: none;
                    }

                    .horizontal-items .container {
                        display: none;
                        opacity: 0;
                        visibility: hidden;
                    }

                    .horizontal-items {
                        padding-top: 0;
                    }
                }

                .flex-col {
                    display: block;
                    width: 100%;
                    order: 2;
                    position: relative;
                }
            </style>
        </section>
        <section class="section horizontal-items" data-scroll-section>
            <div class="container">
                <div class="flex flex-wrap relative row-1" data-scroll data-scroll-speed="-1"
                    data-scroll-direction="horizontal">
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/st1.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/st2.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/st3.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/st1.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/st2.png">
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row flex flex-wrap relative row-2" data-scroll data-scroll-speed="1"
                    data-scroll-direction="horizontal">
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/sb1.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/sb2.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/sb3.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/sb1.png">
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="horizontal-single-item">
                            <div class="overlay lazy"
                                style="background-position: center center; background-repeat: no-repeat; background-size: cover;"
                                data-bg="../assets/images/scrollslider/sb2.png">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <section class="z-10 h-screen bg-primary bg-opacity-5 section section_4" data-scroll-section>

        </section>

        <section class="h-screen bg-blue-100" data-scroll-section></section>
    </div>



    <div class="cursor" id="cursor"></div>
    <script src="../assets/pluggins/jquery/jquery-3.6.3.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="../assets/pluggins/scrollsmoother/ss.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>

    <script src="../assets/pluggins/locomotive/locomotive-scroll.min.js"></script>
    <script src="../assets/pluggins/cdn.jsdelivr.net/npm/vanilla-lazyload%4017.6.1/dist/lazyload.min.js"></script>



    <script>
        const selectAll = (e) => document.querySelectorAll(e);

        initLazyLoad();
        // initPlayVideoInview();
        initSmoothScroll();
        /**
         * Lazy Load
         */
        function initLazyLoad() {
            // https://github.com/locomotivemtl/locomotive-scroll/issues/225
            // https://github.com/verlok/vanilla-lazyload
            var lazyLoadInstance = new LazyLoad({
                elements_selector: ".lazy",
            });

        }

        /**
         * Play Video Inview
         */
        // function initPlayVideoInview() {

        //     let allVideoDivs = gsap.utils.toArray('.playpauze');

        //     allVideoDivs.forEach((videoDiv, i) => {

        //         let videoElem = videoDiv.querySelector('video')

        //         ScrollTrigger.create({
        //             scroller: document.querySelector('[data-scroll-container]'),
        //             trigger: videoElem,
        //             start: '0% 120%',
        //             end: '100% -20%',
        //             onEnter: () => videoElem.play(),
        //             onEnterBack: () => videoElem.play(),
        //             onLeave: () => videoElem.pause(),
        //             onLeaveBack: () => videoElem.pause(),
        //         });

        //     });
        // }

        function initSmoothScroll() {

            scroll = new LocomotiveScroll({
                el: document.querySelector('[data-scroll-container]'),
                smooth: true,
            });

            window.onresize = scroll.update();

            scroll.on("scroll", () => ScrollTrigger.update());

            // ScrollTrigger.scrollerProxy('[data-scroll-container]', {
            //     scrollTop(value) {
            //         return arguments.length ? scroll.scrollTo(value, 0, 0) : scroll.scroll.instance.scroll.y;
            //     }, // we don't have to define a scrollLeft because we're only scrolling vertically.
            //     getBoundingClientRect() {
            //         return {
            //             top: 0,
            //             left: 0,
            //             width: window.innerWidth,
            //             height: window.innerHeight
            //         };
            //     },
            //     // LocomotiveScroll handles things completely differently on mobile devices - it doesn't even transform the container at all! So to get the correct behavior and avoid jitters, we should pin things with position: fixed on mobile. We sense it by checking to see if there's a transform applied to the container (the LocomotiveScroll-controlled element).
            //     pinType: document.querySelector('[data-scroll-container]').style.transform ? "transform" :
            //         "fixed"
            // });

            // ScrollTrigger.defaults({
            //     scroller: document.querySelector('[data-scroll-container]'),
            // });

            /**
             * Remove Old Locomotive Scrollbar
             */

            const scrollbar = selectAll('.c-scrollbar');

            if (scrollbar.length > 1) {
                scrollbar[0].remove();
            }

            // each time the window updates, we should refresh ScrollTrigger and then update LocomotiveScroll. 
            ScrollTrigger.addEventListener('refresh', () => scroll.update());

            // after everything is set up, refresh() ScrollTrigger and update LocomotiveScroll because padding may have been added for pinning, etc.
            ScrollTrigger.refresh();
        }
    </script>
</body>

</html>